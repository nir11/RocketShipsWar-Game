<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <style>

        body {
            overflow: hidden;
        }

        #gameDiv {
            position: relative;
            width: 100%;
            height: 300px;
            border: 2px solid red;
            margin:auto;
        }

        #userRocketShipImg {
            width: 50px;
            left: 30px;
            position: absolute;
            bottom: 10px;
            overflow: hidden;
            }
    </style>

    <script>
        function set() {
            alert('key up');
        }
    </script>

</head>
<body id="body" dir="rtl">
    <div id="gameDiv">
        <img src="src/rocketShip.png" id="userRocketShipImg"/>
    </div>

    <script>

        $(document).ready(function () {

            var $userRocketShipImg = $("#userRocketShipImg");
            var $position = $userRocketShipImg.position();
            //alert($position.left)

            var $gameDiv = $('#gameDiv'),
                w = $gameDiv.width() - $userRocketShipImg.width(),
                d = {},
                x = 3;

            function newv(v, a, b) {
                var n = parseInt(v, 10) - (d[a] ? x : 0) + (d[b] ? x : 0);
                return n < 0 ? 0 : n > w ? w : n;
            }

            $(document).keydown(function (e) { d[e.which] = true; });
            $(window).keyup(function (e) { d[e.which] = false; });
            
            setInterval(function () {             
                $userRocketShipImg.css({ 'left': function (i, v) { return newv(v, 37, 39); } })
                //$userRocketShipImg.css({ 'top': function (i, v) { return newv(v, 38, 40); } })
            }, 20);

        

        })

    </script>

</body>
</html>