<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>

        body {
            background-image: url('src/background.jpg');
        }
        table{
            margin:auto;
        }
        td{
            width:20px;
            height:20px;
        }
        img {
            width: 50px;
            position: absolute;
            left: 30px;
            top: 40px;           
        }



    </style>
</head>
<body id="body" dir="rtl">

    <script>
        $(document).ready(function () {

            $img = $('<img>').attr({ "src": "src/rocketShip.png" });
            $("#body").append($img);


           
            /*$(document).keydown(function (e) {
                switch (e.which) {
                    case 37:    //left arrow key
                        $img.finish().animate({
                            left: "-=20"
                        });
                        break;
                    case 38:    //up arrow key
                        $img.finish().animate({
                            top: "-=20"
                        });
                        break;
                    case 39:    //right arrow key
                        $img.finish().animate({
                            left: "+=20"
                        });
                        break;
                    case 40:    //bottom arrow key
                        $img.finish().animate({
                            top: "+=20"
                        });
                        break;
                }
            });*/

            var change = {
                37: {
                    left: "-=1" //left
                },

                38: {
                    top: "-=1"  //up
                },

                39: {
                    left: "+=1" //right
                },

                40: {
                    top: "+=1"  //down
                },
            }

            $(document).one("keydown", keyDown)

            function keyDown(e) {
                console.log("down")
                $(document).one("keyup", keyup)
                var animation = change[e.which];
                going = setInterval(keepGoing, 1);

                function keepGoing() {
                    $img.css(animation)
                }
            }

            function keyup(e) {
                console.log("up")
                clearInterval(going)
                $(document).one("keydown", keyDown)
            }

            
        })

       

    </script>

   

</body>
</html>